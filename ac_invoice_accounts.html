<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice Management - Ovia PMS</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/header.css">
      <link rel="stylesheet" href="css/ac_invoice.css">
 
 </head>
<body>
 
 
 <!-- Clean Minimal Header -->
    <!-- Header will be loaded here -->
    <div data-include="header.html"></div>

    <!-- Sidebar Overlay for Mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
    <!-- ❌ REMOVE THIS ENTIRE BLOCK -->
<!--
<div class="sidebar-header">
    <div class="d-flex align-items-center">
        <div class="flex-shrink-0"></div>
    </div>
</div>
-->


        
        <!-- Current Status Section -->
        <div class="sidebar-status">
            <h6 class="sidebar-section-title">Current Status:</h6>
            <div class="status-options">
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="currentStatus" id="statusOnline" checked>
                    <label class="form-check-label" for="statusOnline">
                        <span class="status-dot online-dot"></span> Online
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="currentStatus" id="statusAway">
                    <label class="form-check-label" for="statusAway">
                        <span class="status-dot away-dot"></span> Away
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="currentStatus" id="statusOffline">
                    <label class="form-check-label" for="statusOffline">
                        <span class="status-dot offline-dot"></span> Offline
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Quick Stats -->
        <div class="sidebar-quick-stats">
            <div class="row g-2">
                <div class="col-6">
                    <a href="messages_guest.html" class="text-decoration-none">
                        <div class="quick-stat-item">
                            <i class="fas fa-envelope text-primary"></i>
                            <div class="quick-stat-info">
                                <span class="count">2</span>
                                <small>Messages</small>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-6">
                    <a href="friends.html" class="text-decoration-none">
                        <div class="quick-stat-item">
                            <i class="fas fa-users text-success"></i>
                            <div class="quick-stat-info">
                                <span class="count">6</span>
                                <small>Friends</small>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Main Menu -->
        <div class="sidebar-menu">
            <h6 class="sidebar-section-title">Navigation Menu</h6>
            <ul class="nav flex-column" id="mainMenu">
                <!-- Home -->
                <li class="nav-item">
                    <a class="nav-link" href="index.html">
                        <span class="nav-icon"><i class="fas fa-home"></i></span>
                        <span>Home</span>
                    </a>
                </li>
                
                <!-- Profile -->
                <li class="nav-item">
                    <a class="nav-link " href="profile.html">
                        <span class="nav-icon"><i class="fas fa-user"></i></span>
                        <span>Profile</span>
                    </a>
                </li>
                
                <!-- Reservations (with dropdown) -->
                <li class="nav-item has-submenu">
                    <a class="nav-link" href="#" data-section="reservations">
                        <span class="nav-icon"><i class="fas fa-calendar-check"></i></span>
                        <span>Reservations</span>
                        <span class="badge bg-primary ms-auto">12</span>
                        <span class="submenu-toggle"><i class="fas fa-chevron-down"></i></span>
                    </a>
                    <ul class="submenu">
                        <li><a href="reservations.html" data-subsection="reservations-list">Reservations</a></li>
                        <li><a href="reservations_reserved.html" data-subsection="reserved">Reserved</a></li>
                        <li><a href="reservations_cancel.html" data-subsection="cancel">Cancel</a></li>
                        <li><a href="reservations_history.html" data-subsection="history">History</a></li>
                    </ul>
                </li>
                
                <!-- In House -->
                <li class="nav-item">
                    <a class="nav-link" href="in-house.html">
                        <span class="nav-icon"><i class="fas fa-users"></i></span>
                        <span>In House</span>
                        <span class="badge bg-success ms-auto">42</span>
                    </a>
                </li>
                
                <!-- Check Outs (with dropdown) -->
                <li class="nav-item has-submenu">
                    <a class="nav-link" href="#" data-section="check-outs">
                        <span class="nav-icon"><i class="fas fa-sign-out-alt"></i></span>
                        <span>Check Outs</span>
                        <span class="badge bg-warning ms-auto">18</span>
                        <span class="submenu-toggle"><i class="fas fa-chevron-down"></i></span>
                    </a>
                    <ul class="submenu">
                        <li><a href="check_outs.html" data-subsection="check-out">Check Out</a></li>
                        <li><a href="checkout_receipt.html" data-subsection="receipt-checkout">Receipt</a></li>
                    </ul>
                </li>
                
                <!-- Rooms -->
                <li class="nav-item">
                    <a class="nav-link" href="rooms.html">
                        <span class="nav-icon"><i class="fas fa-bed"></i></span>
                        <span>Rooms</span>
                    </a>
                </li>
                
                <!-- House Keeping -->
                <li class="nav-item has-submenu">
                    <a class="nav-link" href="#" data-section="house-keeping">
                        <span class="nav-icon"><i class="fas fa-broom"></i></span>
                        <span>House Keeping</span>
                        <span class="badge bg-warning ms-auto">19</span>
                        <span class="submenu-toggle"><i class="fas fa-chevron-down"></i></span>
                    </a>
                    <ul class="submenu">
                        <li><a href="house_keeping.html" data-subsection="house-keeping">House Keeping</a></li>
                        <li><a href="ho_mini_bar.html" data-subsection="mini-bar">Mini Bar</a></li>
                    </ul>
                </li>
                
                <!-- POS -->
                <li class="nav-item">
                    <a class="nav-link" href="pos_billing.html">
                        <span class="nav-icon"><i class="fas fa-cash-register"></i></span>
                        <span>POS & Billing</span>
                    </a>
                </li>
                
                <!-- Receipt -->
                <li class="nav-item">
                    <a class="nav-link" href="receipt.html">
                        <span class="nav-icon"><i class="fas fa-file-invoice"></i></span>
                        <span>Receipt</span>
                    </a>
                </li>
                
                <!-- Partners (with dropdown) -->
                <li class="nav-item has-submenu">
                    <a class="nav-link" href="#" data-section="partners">
                        <span class="nav-icon"><i class="fas fa-handshake"></i></span>
                        <span>Partners</span>
                        <span class="submenu-toggle"><i class="fas fa-chevron-down"></i></span>
                    </a>
                    <ul class="submenu">
                        <li><a href="partners.html" data-subsection="partners-list">Partners</a></li>
                        <li><a href="pa_travel_agent.html" data-subsection="travel-agent">Travel Agent</a></li>
                    </ul>
                </li>
                
                <!-- Accounts (with dropdown - extensive) -->
                <li class="nav-item has-submenu">
                    <a class="nav-link active" href="#" data-section="accounts">
                        <span class="nav-icon"><i class="fas fa-chart-pie"></i></span>
                        <span>Accounts</span>
                        <span class="submenu-toggle"><i class="fas fa-chevron-down"></i></span>
                    </a>
                    <ul class="submenu">
                        <li><a href="account.html" data-subsection="account">Account</a></li>
                        <li><a href="ac_account_category.html" data-subsection="account-category">Account Category</a></li>
                        <li><a href="ac_main_account.html" data-subsection="main-account">Main Account</a></li>
                        <li><a href="ac_general_ledger.html" data-subsection="general-ledger">General Ledger</a></li>
                        <li><a href="ac_bank_details.html" data-subsection="bank-details">Bank Details</a></li>
                        <li><a href="ac_bank_deposits.html" data-subsection="bank-deposits">Bank Deposits</a></li>
                        <li><a href="ac_gl_report.html" data-subsection="gl-report">GL Report</a></li>
                        <li><a href="ac_journal_entries.html" data-subsection="journal-entries">Journal Entries</a></li>
                        <li><a href="ac_payments.html" data-subsection="payments">Payments</a></li>
                        <li><a href="ac_income_statement.html" data-subsection="income-statement">Income Statement</a></li>
                        <li><a href="ac_invoice_accounts.html" data-subsection="invoice-accounts">Invoice</a></li>
                        <li><a href="ac_bank_reconciliation.html" data-subsection="bank-reconciliation">Bank Reconciliation</a></li>
                        <li><a href="ac_cash_book.html" data-subsection="cash-book">Cash Book</a></li>
                    </ul>
                </li>
                
                <!-- Reports (with dropdown) -->
                <li class="nav-item has-submenu">
                    <a class="nav-link" href="#" data-section="reports">
                        <span class="nav-icon"><i class="fas fa-chart-bar"></i></span>
                        <span>Reports</span>
                        <span class="submenu-toggle"><i class="fas fa-chevron-down"></i></span>
                    </a>
                    <ul class="submenu">
                        <li><a href="reports.html" data-subsection="reports-list">Reports</a></li>
                        <li><a href="rep_occupancy_forecast.html" data-subsection="occupancy-forecast">Occupancy Forecast</a></li>
                        <li><a href="rep_revenue_reports.html" data-subsection="revenue-reports">Revenue</a></li>
                        <li><a href="rep_drs.html" data-subsection="drs">DRS</a></li>
                        <li><a href="rep_age_analysis_report.html" data-subsection="age-analysis">Age Analysis Report</a></li>
                        <li><a href="rep_channel_management.html" data-subsection="channel-management">Channel Management</a></li>
                    </ul>
                </li>
                
                <!-- Inventory (with dropdown) -->
                <li class="nav-item has-submenu">
                    <a class="nav-link" href="#" data-section="inventory">
                        <span class="nav-icon"><i class="fas fa-boxes"></i></span>
                        <span>Inventory</span>
                        <span class="submenu-toggle"><i class="fas fa-chevron-down"></i></span>
                    </a>
                    <ul class="submenu">
                        <li><a href="inventory.html" data-subsection="inventory-list">Inventory</a></li>
                        <li><a href="inv_department.html" data-subsection="department">Department</a></li>
                        <li><a href="inv_category.html" data-subsection="category">Category</a></li>
                        <li><a href="inv_sub_category.html" data-subsection="sub-category">Sub Category</a></li>
                        <li><a href="inv_item.html" data-subsection="item">Item</a></li>
                        <li><a href="inv_purchase_order.html" data-subsection="purchase-order">Purchase Order</a></li>
                        <li><a href="inv_crn.html" data-subsection="crn">CRN</a></li>
                        <li><a href="inv_suppliers.html" data-subsection="suppliers">Suppliers</a></li>
                        <li><a href="inv_unit_conversion.html" data-subsection="unit-conversion">Unit Conversion</a></li>
                        <li><a href="inv_units.html" data-subsection="units">Units</a></li>
                    </ul>
                </li>
                
                <!-- Channel -->
                <li class="nav-item">
                 <a class="nav-link" href="channel.html">
                  <span class="nav-icon"><i class="fas fa-broadcast-tower"></i></span>
                  <span>Channel</span>
                   </a>
                  </li>

                <!-- Admin (with dropdown - extensive) -->
                <li class="nav-item has-submenu">
                    <a class="nav-link" href="#" data-section="admin">
                        <span class="nav-icon"><i class="fas fa-users-cog"></i></span>
                        <span>Admin</span>
                        <span class="submenu-toggle"><i class="fas fa-chevron-down"></i></span>
                    </a>
                    <ul class="submenu">
                        <li><a href="admin_settings.html" data-subsection="admin-settings">Admin</a></li>
                        <li><a href="admin_tier.html" data-subsection="admin-tier">Admin Tier</a></li>
                        <li><a href="ad_booking_source.html" data-subsection="booking-source">Booking Source</a></li>
                        <li><a href="ad_currency.html" data-subsection="currency">Currency</a></li>
                        <li><a href="ad_currency_conversion.html" data-subsection="currency-conversion">Currency Conversion</a></li>
                        <li><a href="ad_groups.html" data-subsection="groups">Groups</a></li>
                        <li><a href="ad_location.html" data-subsection="location">Location</a></li>
                        <li><a href="ad_meal_plan.html" data-subsection="meal-plan">Meal Plan</a></li>
                        <li><a href="ad_rate_plan_category.html" data-subsection="rate-plan-category">Rate Plan Category</a></li>
                        <li><a href="ad_rate_plane.html" data-subsection="rate-plane">Rate Plane</a></li>
                        <li><a href="ad_rate_category.html" data-subsection="rate-category">Rate Category</a></li>
                        <li><a href="ad_room_type.html" data-subsection="room-type">Room Type</a></li>
                        <li><a href="ad_rooms_admin.html" data-subsection="rooms-admin">Rooms</a></li>
                        <li><a href="ad_service_category.html" data-subsection="service-category">Service Category</a></li>
                        <li><a href="ad_services.html" data-subsection="services">Services</a></li>
                        <li><a href="ad_activities.html" data-subsection="activities">Activities</a></li>
                        <li><a href="ad_service_location.html" data-subsection="service-location">Service Location</a></li>
                        <li><a href="ad_tables.html" data-subsection="tables">Tables</a></li>
                        <li><a href="ad_users.html" data-subsection="users">Users</a></li>
                    </ul>
                </li>
                
                <!-- Settings -->
                <li class="nav-item">
                    <a class="nav-link" href="settings.html">
                        <span class="nav-icon"><i class="fas fa-cog"></i></span>
                        <span>Settings</span>
                    </a>
                </li>
            </ul>
        </div>
        
        <!-- Quick Settings -->
        <div class="sidebar-settings">
            <h6 class="sidebar-section-title">Quick Settings</h6>
            <div class="quick-settings-list">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="notificationsSwitch" checked>
                    <label class="form-check-label" for="notificationsSwitch">
                        <i class="fas fa-bell me-2"></i>Notifications
                    </label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="autoSaveSwitch">
                    <label class="form-check-label" for="autoSaveSwitch">
                        <i class="fas fa-save me-2"></i>Auto Save
                    </label>
                </div>
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="darkModeSwitch">
                    <label class="form-check-label" for="darkModeSwitch">
                        <i class="fas fa-moon me-2"></i>Dark Mode
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Help Section -->
        <div class="px-4 py-3 border-top">
            <div class="d-flex align-items-center">
                <div class="flex-shrink-0">
                    <i class="fas fa-headset fa-2x text-primary"></i>
                </div>
                <div class="flex-grow-1 ms-3">
                    <h6 class="mb-1">Need Help?</h6>
                    <p class="mb-0 small text-muted">Contact support 24/7</p>
                    <a href="help.html" class="small">Get Help <i class="fas fa-arrow-right ms-1"></i></a>
                </div>
            </div>
        </div>
    </div>
    
    
    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Header -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card invoice-header">
                    <div class="card-body p-4">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h1 class="card-title h3 mb-2 text-white">
                                    <i class="fas fa-file-invoice-dollar me-2"></i>Invoice Management
                                </h1>
                                <p class="card-text mb-0 text-white" style="opacity: 0.9;">Create, manage, and track invoices</p>
                                <small class="text-white" style="opacity: 0.8;">
                                    Total Invoices: <strong>42</strong> • 
                                    Pending: <strong class="text-warning">8</strong> • 
                                    Overdue: <strong class="text-danger">3</strong> • 
                                    Paid: <strong class="text-success">31</strong>
                                </small>
                            </div>
                            <div class="d-flex">
                                <a href="index.html" class="btn btn-outline-light me-2">
                                    <i class="fas fa-arrow-left me-1"></i> Dashboard
                                </a>
                                <button class="btn btn-light" data-bs-toggle="modal" data-bs-target="#createInvoiceModal">
                                    <i class="fas fa-plus-circle me-1"></i> Create Invoice
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="row mb-4">
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="invoice-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <h6 class="card-subtitle mb-2 text-muted">Total Invoices</h6>
                                <h2 class="metric-number text-primary">42</h2>
                                <p class="card-text text-muted small">All time</p>
                            </div>
                            <div class="bg-primary bg-opacity-10 p-3 rounded-circle">
                                <i class="fas fa-file-invoice fa-2x text-primary"></i>
                            </div>
                        </div>
                        <div class="mt-3">
                            <small class="text-success">
                                <i class="fas fa-arrow-up me-1"></i> 15% from last month
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="invoice-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <h6 class="card-subtitle mb-2 text-muted">Pending Amount</h6>
                                <h2 class="metric-number text-warning">$12,850</h2>
                                <p class="card-text text-muted small">Awaiting payment</p>
                            </div>
                            <div class="bg-warning bg-opacity-10 p-3 rounded-circle">
                                <i class="fas fa-clock fa-2x text-warning"></i>
                            </div>
                        </div>
                        <div class="mt-3">
                            <small class="text-danger">
                                <i class="fas fa-arrow-up me-1"></i> 8% from last month
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="invoice-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <h6 class="card-subtitle mb-2 text-muted">Overdue Invoices</h6>
                                <h2 class="metric-number text-danger">3</h2>
                                <p class="card-text text-muted small">Past due date</p>
                            </div>
                            <div class="bg-danger bg-opacity-10 p-3 rounded-circle">
                                <i class="fas fa-exclamation-triangle fa-2x text-danger"></i>
                            </div>
                        </div>
                        <div class="mt-3">
                            <small class="text-success">
                                <i class="fas fa-arrow-down me-1"></i> 40% from last month
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="invoice-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <h6 class="card-subtitle mb-2 text-muted">Paid This Month</h6>
                                <h2 class="metric-number text-success">$28,450</h2>
                                <p class="card-text text-muted small">December 2024</p>
                            </div>
                            <div class="bg-success bg-opacity-10 p-3 rounded-circle">
                                <i class="fas fa-check-circle fa-2x text-success"></i>
                            </div>
                        </div>
                        <div class="mt-3">
                            <small class="text-success">
                                <i class="fas fa-arrow-up me-1"></i> 22% from last month
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filter Section -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card invoice-card">
                    <div class="card-body">
                        <h5 class="card-title mb-4"><i class="fas fa-filter me-2 text-primary"></i>Filter Invoices</h5>
                        <div class="row g-3">
                            <div class="col-md-3">
                                <label for="fromDate" class="form-label">From Date</label>
                                <div class="input-group">
                                    <input type="date" class="form-control" id="fromDate" value="2024-12-01">
                                    <span class="input-group-text"><i class="fas fa-calendar"></i></span>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <label for="toDate" class="form-label">To Date</label>
                                <div class="input-group">
                                    <input type="date" class="form-control" id="toDate" value="2024-12-31">
                                    <span class="input-group-text"><i class="fas fa-calendar"></i></span>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <label for="invoiceStatus" class="form-label">Status</label>
                                <select class="form-select" id="invoiceStatus">
                                    <option value="">All Status</option>
                                    <option value="paid">Paid</option>
                                    <option value="pending">Pending</option>
                                    <option value="overdue">Overdue</option>
                                    <option value="draft">Draft</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="customerFilter" class="form-label">Customer</label>
                                <select class="form-select" id="customerFilter">
                                    <option value="">All Customers</option>
                                    <option value="CUS100001">Howard Martenstyn</option>
                                    <option value="CUS100002">Sugeethan Thanigasalam</option>
                                    <option value="CUS100003">Anne et Jean Green</option>
                                    <option value="CUS100005">Selina Bridget</option>
                                </select>
                            </div>
                            <div class="col-md-8">
                                <label for="searchInvoice" class="form-label">Search</label>
                                <div class="input-group">
                                    <input type="text" class="form-control" id="searchInvoice" placeholder="Search by invoice number, customer name, or amount...">
                                    <button class="btn btn-primary" type="button" id="searchBtn">
                                        <i class="fas fa-search"></i> Search
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-4 d-flex align-items-end">
                                <div class="d-flex gap-2 w-100">
                                    <button class="btn btn-outline-primary flex-fill" id="applyFiltersBtn">
                                        <i class="fas fa-filter me-1"></i> Apply Filters
                                    </button>
                                    <button class="btn btn-outline-secondary" id="resetFilterBtn">
                                        <i class="fas fa-redo"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Invoice List -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card invoice-card">
                    <div class="card-header">
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="mb-0"><i class="fas fa-list me-2"></i>Invoice List</h5>
                            <div class="d-flex">
                                <div class="btn-group me-2" role="group">
                                    <button type="button" class="btn btn-sm btn-outline-primary active" data-filter="all">All</button>
                                    <button type="button" class="btn btn-sm btn-outline-primary" data-filter="pending">Pending</button>
                                    <button type="button" class="btn btn-sm btn-outline-primary" data-filter="overdue">Overdue</button>
                                    <button type="button" class="btn btn-sm btn-outline-primary" data-filter="paid">Paid</button>
                                </div>
                                <button class="btn btn-sm btn-success" id="exportInvoicesBtn">
                                    <i class="fas fa-download me-1"></i> Export
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-hover invoice-table mb-0">
                                <thead class="table-light">
                                    <tr>
                                        <th width="50">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="selectAllInvoices">
                                            </div>
                                        </th>
                                        <th>Invoice No</th>
                                        <th>Customer</th>
                                        <th>Issue Date</th>
                                        <th>Due Date</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="invoiceTableBody">
                                    <!-- Invoice Row 1 -->
                                    <tr>
                                        <td>
                                            <div class="form-check">
                                                <input class="form-check-input invoice-checkbox" type="checkbox" data-id="INV-2024-001">
                                            </div>
                                        </td>
                                        <td>
                                            <span class="badge bg-primary">INV-2024-001</span>
                                            <br>
                                            <small class="text-muted">Room 305 - 3 nights</small>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div class="customer-avatar bg-primary text-white me-2">
                                                    HM
                                                </div>
                                                <div>
                                                    <h6 class="mb-0">Howard Martenstyn</h6>
                                                    <small class="text-muted">hmartenstyn@gmail.com</small>
                                                </div>
                                            </div>
                                        </td>
                                        <td>2024-12-15</td>
                                        <td>
                                            2024-12-18
                                            <br>
                                            <small class="text-success">In 3 days</small>
                                        </td>
                                        <td class="invoice-amount text-primary">$450.00</td>
                                        <td>
                                            <span class="invoice-status status-pending">
                                                <i class="fas fa-clock me-1"></i> Pending
                                            </span>
                                            <br>
                                            <span class="invoice-badge badge-sent mt-1">
                                                <i class="fas fa-paper-plane me-1"></i> Sent
                                            </span>
                                        </td>
                                        <td>
                                            <div class="btn-group btn-group-sm">
                                                <button class="btn btn-outline-primary view-invoice" data-id="INV-2024-001">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="btn btn-outline-warning edit-invoice" data-id="INV-2024-001">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="btn btn-outline-success mark-paid" data-id="INV-2024-001">
                                                    <i class="fas fa-check-circle"></i>
                                                </button>
                                                <button class="btn btn-outline-danger delete-invoice" data-id="INV-2024-001">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    
                                    <!-- Invoice Row 2 -->
                                    <tr>
                                        <td>
                                            <div class="form-check">
                                                <input class="form-check-input invoice-checkbox" type="checkbox" data-id="INV-2024-002">
                                            </div>
                                        </td>
                                        <td>
                                            <span class="badge bg-primary">INV-2024-002</span>
                                            <br>
                                            <small class="text-muted">Suite 201 - 5 nights</small>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div class="customer-avatar bg-success text-white me-2">
                                                    ST
                                                </div>
                                                <div>
                                                    <h6 class="mb-0">Sugeethan Thanigasalam</h6>
                                                    <small class="text-muted">sugee@ascensorpartners.com</small>
                                                </div>
                                            </div>
                                        </td>
                                        <td>2024-12-10</td>
                                        <td>
                                            2024-12-15
                                            <br>
                                            <small class="text-danger">Overdue 3 days</small>
                                        </td>
                                        <td class="invoice-amount text-primary">$1,250.00</td>
                                        <td>
                                            <span class="invoice-status status-overdue">
                                                <i class="fas fa-exclamation-triangle me-1"></i> Overdue
                                            </span>
                                            <br>
                                            <span class="invoice-badge badge-sent mt-1">
                                                <i class="fas fa-paper-plane me-1"></i> Sent
                                            </span>
                                        </td>
                                        <td>
                                            <div class="btn-group btn-group-sm">
                                                <button class="btn btn-outline-primary view-invoice" data-id="INV-2024-002">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="btn btn-outline-warning edit-invoice" data-id="INV-2024-002">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="btn btn-outline-success mark-paid" data-id="INV-2024-002">
                                                    <i class="fas fa-check-circle"></i>
                                                </button>
                                                <button class="btn btn-outline-danger delete-invoice" data-id="INV-2024-002">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    
                                    <!-- Invoice Row 3 -->
                                    <tr>
                                        <td>
                                            <div class="form-check">
                                                <input class="form-check-input invoice-checkbox" type="checkbox" data-id="INV-2024-003">
                                            </div>
                                        </td>
                                        <td>
                                            <span class="badge bg-primary">INV-2024-003</span>
                                            <br>
                                            <small class="text-muted">Food & Beverage Services</small>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div class="customer-avatar bg-info text-white me-2">
                                                    AJ
                                                </div>
                                                <div>
                                                    <h6 class="mb-0">Anne et Jean Green</h6>
                                                    <small class="text-muted">info@barreefresort.com</small>
                                                </div>
                                            </div>
                                        </td>
                                        <td>2024-12-05</td>
                                        <td>
                                            2024-12-12
                                            <br>
                                            <small class="text-success">Paid</small>
                                        </td>
                                        <td class="invoice-amount text-primary">$280.00</td>
                                        <td>
                                            <span class="invoice-status status-paid">
                                                <i class="fas fa-check-circle me-1"></i> Paid
                                            </span>
                                            <br>
                                            <span class="invoice-badge badge-sent mt-1">
                                                <i class="fas fa-paper-plane me-1"></i> Sent
                                            </span>
                                        </td>
                                        <td>
                                            <div class="btn-group btn-group-sm">
                                                <button class="btn btn-outline-primary view-invoice" data-id="INV-2024-003">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="btn btn-outline-warning edit-invoice" data-id="INV-2024-003">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="btn btn-outline-info" data-id="INV-2024-003">
                                                    <i class="fas fa-redo"></i>
                                                </button>
                                                <button class="btn btn-outline-danger delete-invoice" data-id="INV-2024-003">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    
                                    <!-- Invoice Row 4 -->
                                    <tr>
                                        <td>
                                            <div class="form-check">
                                                <input class="form-check-input invoice-checkbox" type="checkbox" data-id="INV-2024-004">
                                            </div>
                                        </td>
                                        <td>
                                            <span class="badge bg-primary">INV-2024-004</span>
                                            <br>
                                            <small class="text-muted">Conference Room Booking</small>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div class="customer-avatar bg-warning text-dark me-2">
                                                    SB
                                                </div>
                                                <div>
                                                    <h6 class="mb-0">Selina Bridget</h6>
                                                    <small class="text-muted">sachithkapu@gmail.com</small>
                                                </div>
                                            </div>
                                        </td>
                                        <td>2024-12-18</td>
                                        <td>
                                            2024-12-25
                                            <br>
                                            <small class="text-warning">In 7 days</small>
                                        </td>
                                        <td class="invoice-amount text-primary">$750.00</td>
                                        <td>
                                            <span class="invoice-status status-pending">
                                                <i class="fas fa-clock me-1"></i> Pending
                                            </span>
                                            <br>
                                            <span class="invoice-badge badge-sent mt-1">
                                                <i class="fas fa-paper-plane me-1"></i> Sent
                                            </span>
                                        </td>
                                        <td>
                                            <div class="btn-group btn-group-sm">
                                                <button class="btn btn-outline-primary view-invoice" data-id="INV-2024-004">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="btn btn-outline-warning edit-invoice" data-id="INV-2024-004">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="btn btn-outline-success mark-paid" data-id="INV-2024-004">
                                                    <i class="fas fa-check-circle"></i>
                                                </button>
                                                <button class="btn btn-outline-danger delete-invoice" data-id="INV-2024-004">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    
                                    <!-- Invoice Row 5 -->
                                    <tr>
                                        <td>
                                            <div class="form-check">
                                                <input class="form-check-input invoice-checkbox" type="checkbox" data-id="INV-2024-005">
                                            </div>
                                        </td>
                                        <td>
                                            <span class="badge bg-primary">INV-2024-005</span>
                                            <br>
                                            <small class="text-muted">Spa & Wellness Services</small>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div class="customer-avatar bg-danger text-white me-2">
                                                    SK
                                                </div>
                                                <div>
                                                    <h6 class="mb-0">Sachith Kapu</h6>
                                                    <small class="text-muted">sachithkapu@gmail.com</small>
                                                </div>
                                            </div>
                                        </td>
                                        <td>2024-12-20</td>
                                        <td>
                                            2024-12-27
                                            <br>
                                            <small class="text-warning">In 7 days</small>
                                        </td>
                                        <td class="invoice-amount text-primary">$320.00</td>
                                        <td>
                                            <span class="invoice-status status-draft">
                                                <i class="fas fa-file me-1"></i> Draft
                                            </span>
                                            <br>
                                            <span class="invoice-badge mt-1">
                                                <i class="fas fa-save me-1"></i> Not Sent
                                            </span>
                                        </td>
                                        <td>
                                            <div class="btn-group btn-group-sm">
                                                <button class="btn btn-outline-primary view-invoice" data-id="INV-2024-005">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="btn btn-outline-warning edit-invoice" data-id="INV-2024-005">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="btn btn-outline-info" data-id="INV-2024-005">
                                                    <i class="fas fa-paper-plane"></i>
                                                </button>
                                                <button class="btn btn-outline-danger delete-invoice" data-id="INV-2024-005">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="text-muted">Showing 5 of 42 invoices</span>
                            </div>
                            <nav aria-label="Invoice pagination">
                                <ul class="pagination pagination-sm mb-0">
                                    <li class="page-item disabled">
                                        <a class="page-link" href="#" tabindex="-1">Previous</a>
                                    </li>
                                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                                    <li class="page-item"><a class="page-link" href="#">4</a></li>
                                    <li class="page-item"><a class="page-link" href="#">5</a></li>
                                    <li class="page-item">
                                        <a class="page-link" href="#">Next</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Invoice Details Section -->
        <div class="row" id="invoiceDetailsSection">
            <div class="col-12">
                <div class="card invoice-card">
                    <div class="card-header">
                        <h5 class="mb-0"><i class="fas fa-file-invoice-dollar me-2"></i>Invoice Details</h5>
                    </div>
                    <div class="card-body">
                        <!-- Invoice Preview -->
                        <div class="invoice-preview" id="invoicePreview">
                            <!-- Invoice Header -->
                            <div class="invoice-preview-header">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h2 class="text-primary mb-1">INVOICE</h2>
                                        <p class="text-muted mb-0">Hotel Services Bill</p>
                                    </div>
                                    <div class="col-md-6 text-md-end">
                                        <h3 class="mb-1"><span class="badge bg-primary" id="previewInvoiceNo">INV-2024-001</span></h3>
                                        <p class="text-muted mb-0">Issue Date: <span id="previewIssueDate">December 15, 2024</span></p>
                                        <p class="text-muted mb-0">Due Date: <span id="previewDueDate">December 18, 2024</span></p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- From and To Section -->
                            <div class="from-to-section">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h6 class="text-primary mb-2">FROM</h6>
                                        <div class="mb-3">
                                            <strong>Ovia Hotel & Resort</strong><br>
                                            123 Beach Road, Kalpitiya<br>
                                            Sri Lanka<br>
                                            Phone: +94 77 123 4567<br>
                                            Email: info@oviahotel.com<br>
                                            Website: www.oviahotel.com
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <h6 class="text-primary mb-2">TO</h6>
                                        <div class="mb-3">
                                            <strong id="previewCustomerName">Howard Martenstyn</strong><br>
                                            <span id="previewCustomerAddress">123 Main Street, Toronto, Ontario M5H 2N2, Canada</span><br>
                                            Phone: <span id="previewCustomerPhone">+1 416 123 4567</span><br>
                                            Email: <span id="previewCustomerEmail">hmartenstyn@gmail.com</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Invoice Items -->
                            <div class="invoice-preview-body">
                                <h6 class="mb-3 text-primary">INVOICE DETAILS</h6>
                                <div class="table-responsive">
                                    <table class="table table-bordered items-table">
                                        <thead>
                                            <tr>
                                                <th width="5%">#</th>
                                                <th>Description</th>
                                                <th width="15%" class="text-end">Rate</th>
                                                <th width="10%" class="text-center">Qty</th>
                                                <th width="15%" class="text-end">Amount</th>
                                            </tr>
                                        </thead>
                                        <tbody id="invoiceItemsPreview">
                                            <!-- Items will be populated here -->
                                        </tbody>
                                    </table>
                                </div>
                                
                                <!-- Totals -->
                                <div class="row mt-4">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="previewNotes" class="form-label">Notes</label>
                                            <textarea class="form-control" id="previewNotes" rows="3" readonly>Thank you for choosing Ovia Hotel & Resort. Please make payment by the due date. For any queries, contact our billing department.</textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label for="previewTerms" class="form-label">Terms & Conditions</label>
                                            <textarea class="form-control" id="previewTerms" rows="2" readonly>1. Payment due within 7 days of invoice date.
2. Late payments subject to 2% monthly interest.
3. All amounts in US Dollars.</textarea>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="total-section">
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Subtotal:</span>
                                                <span id="previewSubtotal">$450.00</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Tax (10%):</span>
                                                <span id="previewTax">$45.00</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Discount:</span>
                                                <span id="previewDiscount">$0.00</span>
                                            </div>
                                            <hr>
                                            <div class="d-flex justify-content-between mb-0">
                                                <h5 class="mb-0">Total:</h5>
                                                <h4 class="mb-0 text-primary" id="previewTotal">$495.00</h4>
                                            </div>
                                        </div>
                                        
                                        <!-- Payment Status -->
                                        <div class="mt-4">
                                            <h6 class="text-primary mb-2">PAYMENT STATUS</h6>
                                            <div class="d-flex align-items-center">
                                                <div class="me-3">
                                                    <span class="invoice-status status-pending" id="previewStatus">
                                                        <i class="fas fa-clock me-1"></i> Pending
                                                    </span>
                                                </div>
                                                <div>
                                                    <small class="text-muted">Payment Method: <span id="previewPaymentMethod">Bank Transfer</span></small><br>
                                                    <small class="text-muted">Due Date: <span id="previewDueDate2">December 18, 2024</span></small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Invoice Footer -->
                            <div class="invoice-preview-footer">
                                <div class="row">
                                    <div class="col-md-6">
                                        <small class="text-muted">
                                            <strong>Bank Details:</strong><br>
                                            Bank: Commercial Bank of Ceylon<br>
                                            Account: Ovia Hotel & Resort<br>
                                            Account No: 1234567890<br>
                                            Swift Code: CCEYLKLX
                                        </small>
                                    </div>
                                    <div class="col-md-6 text-md-end">
                                        <small class="text-muted">
                                            Thank you for your business!<br>
                                            This is a computer generated invoice.
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="row mt-4">
                            <div class="col-12">
                                <div class="d-flex justify-content-end gap-2">
                                    <button class="btn btn-outline-secondary" id="printInvoiceBtn">
                                        <i class="fas fa-print me-1"></i> Print
                                    </button>
                                    <button class="btn btn-outline-primary" id="downloadPdfBtn">
                                        <i class="fas fa-file-pdf me-1"></i> Download PDF
                                    </button>
                                    <button class="btn btn-outline-success" id="sendEmailBtn">
                                        <i class="fas fa-paper-plane me-1"></i> Send Email
                                    </button>
                                    <button class="btn btn-primary" id="updateInvoiceBtn">
                                        <i class="fas fa-save me-1"></i> Update Invoice
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-0">
                        <i class="fas fa-hotel text-primary me-1"></i> 
                        <strong>Ovia PMS Invoice Module</strong> v4.5 • Location: Kalpitiya
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-0 text-muted">
                        &copy; 2025 Ovia Property Management System. All rights reserved.
                        <span class="ms-2">User: <strong>admin</strong> | Status: <span class="text-success">Online</span></span>
                    </p>
                </div>
            </div>
        </footer>
    </main>

    <!-- Create Invoice Modal -->
    <div class="modal fade" id="createInvoiceModal" tabindex="-1" aria-labelledby="createInvoiceModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="createInvoiceModalLabel">
                        <i class="fas fa-plus-circle me-2"></i>Create New Invoice
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="newInvoiceCustomer" class="form-label">Customer *</label>
                            <select class="form-select" id="newInvoiceCustomer" required>
                                <option value="">Select Customer</option>
                                <option value="CUS100001">Howard Martenstyn</option>
                                <option value="CUS100002">Sugeethan Thanigasalam</option>
                                <option value="CUS100003">Anne et Jean Green</option>
                                <option value="CUS100005">Selina Bridget</option>
                                <option value="CUS100007">Sachith Kapu</option>
                            </select>
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="newInvoiceDate" class="form-label">Invoice Date *</label>
                            <input type="date" class="form-control" id="newInvoiceDate" required value="2024-12-31">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="newDueDate" class="form-label">Due Date *</label>
                            <input type="date" class="form-control" id="newDueDate" required value="2025-01-07">
                        </div>
                        <div class="col-12 mb-3">
                            <label class="form-label">Invoice Items</label>
                            <div class="table-responsive">
                                <table class="table table-sm" id="newInvoiceItems">
                                    <thead>
                                        <tr>
                                            <th>Description</th>
                                            <th width="15%">Rate</th>
                                            <th width="10%">Qty</th>
                                            <th width="15%">Amount</th>
                                            <th width="5%">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <select class="form-select form-select-sm item-select">
                                                    <option value="">Select Item</option>
                                                    <option value="room" selected>Room Charge</option>
                                                    <option value="food">Food & Beverage</option>
                                                    <option value="service">Service Charge</option>
                                                    <option value="taxi">Taxi Service</option>
                                                    <option value="laundry">Laundry Service</option>
                                                    <option value="spa">Spa Service</option>
                                                </select>
                                                <input type="text" class="form-control form-control-sm mt-1 item-description" placeholder="Description" value="Deluxe Room - 3 nights">
                                            </td>
                                            <td>
                                                <input type="number" class="form-control form-control-sm item-rate" value="150.00" step="0.01">
                                            </td>
                                            <td>
                                                <input type="number" class="form-control form-control-sm item-qty" value="3" min="1">
                                            </td>
                                            <td>
                                                <input type="number" class="form-control form-control-sm item-amount" value="450.00" step="0.01" readonly>
                                            </td>
                                            <td>
                                                <button type="button" class="btn btn-sm btn-outline-danger remove-item">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <button type="button" class="btn btn-sm btn-outline-primary" id="addNewItem">
                                <i class="fas fa-plus me-1"></i> Add Item
                            </button>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="newInvoiceNotes" class="form-label">Notes</label>
                            <textarea class="form-control" id="newInvoiceNotes" rows="3" placeholder="Additional notes...">Thank you for choosing Ovia Hotel & Resort.</textarea>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="newInvoiceTerms" class="form-label">Terms & Conditions</label>
                            <textarea class="form-control" id="newInvoiceTerms" rows="3" placeholder="Terms and conditions...">1. Payment due within 7 days.
2. Late fee applies after due date.</textarea>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" id="saveDraftBtn">Save as Draft</button>
                    <button type="button" class="btn btn-primary" id="saveSendInvoiceBtn">Save & Send Invoice</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Invoice Modal -->
    <div class="modal fade" id="deleteInvoiceModal" tabindex="-1" aria-labelledby="deleteInvoiceModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="deleteInvoiceModalLabel">
                        <i class="fas fa-exclamation-triangle me-2"></i>Confirm Delete
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete this invoice?</p>
                    <p class="text-danger"><strong>This action cannot be undone.</strong></p>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="confirmInvoiceDelete">
                        <label class="form-check-label" for="confirmInvoiceDelete">
                            I understand that this will permanently delete the invoice
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteInvoiceBtn" disabled>Delete Invoice</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Send Invoice Modal -->
    <div class="modal fade" id="sendInvoiceModal" tabindex="-1" aria-labelledby="sendInvoiceModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="sendInvoiceModalLabel">
                        <i class="fas fa-paper-plane me-2"></i>Send Invoice
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="sendToEmail" class="form-label">Send To Email</label>
                        <input type="email" class="form-control" id="sendToEmail" value="hmartenstyn@gmail.com">
                    </div>
                    <div class="mb-3">
                        <label for="emailSubject" class="form-label">Email Subject</label>
                        <input type="text" class="form-control" id="emailSubject" value="Invoice INV-2024-001 from Ovia Hotel">
                    </div>
                    <div class="mb-3">
                        <label for="emailMessage" class="form-label">Message</label>
                        <textarea class="form-control" id="emailMessage" rows="4">Dear Customer,

Please find attached invoice INV-2024-001 for your recent stay.

Payment is due by December 18, 2024.

Best regards,
Ovia Hotel & Resort</textarea>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="includePdf" checked>
                        <label class="form-check-label" for="includePdf">
                            Include PDF attachment
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="sendInvoiceNowBtn">Send Invoice</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="js/main.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/include.js"></script>
    
    <script>
        // Invoice Management Script
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize date fields
            const today = new Date();
            const nextWeek = new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000);
            
            document.getElementById('newInvoiceDate').value = today.toISOString().split('T')[0];
            document.getElementById('newDueDate').value = nextWeek.toISOString().split('T')[0];
            
            // Select all invoices checkbox
            document.getElementById('selectAllInvoices').addEventListener('change', function() {
                const checkboxes = document.querySelectorAll('.invoice-checkbox');
                checkboxes.forEach(checkbox => {
                    checkbox.checked = this.checked;
                });
            });
            
            // Filter buttons
            document.querySelectorAll('[data-filter]').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('[data-filter]').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    const filter = this.dataset.filter;
                    filterInvoices(filter);
                });
            });
            
            // View invoice details
            document.querySelectorAll('.view-invoice').forEach(button => {
                button.addEventListener('click', function() {
                    const invoiceId = this.dataset.id;
                    loadInvoiceDetails(invoiceId);
                });
            });
            
            // Edit invoice
            document.querySelectorAll('.edit-invoice').forEach(button => {
                button.addEventListener('click', function() {
                    const invoiceId = this.dataset.id;
                    editInvoice(invoiceId);
                });
            });
            
            // Mark as paid
            document.querySelectorAll('.mark-paid').forEach(button => {
                button.addEventListener('click', function() {
                    const invoiceId = this.dataset.id;
                    markInvoiceAsPaid(invoiceId);
                });
            });
            
            // Delete invoice
            document.querySelectorAll('.delete-invoice').forEach(button => {
                button.addEventListener('click', function() {
                    const invoiceId = this.dataset.id;
                    showDeleteInvoiceModal(invoiceId);
                });
            });
            
            // Apply filters button
            document.getElementById('applyFiltersBtn').addEventListener('click', function() {
                applyInvoiceFilters();
            });
            
            // Reset filters button
            document.getElementById('resetFilterBtn').addEventListener('click', function() {
                resetInvoiceFilters();
            });
            
            // Search button
            document.getElementById('searchBtn').addEventListener('click', function() {
                searchInvoices();
            });
            
            // Export invoices button
            document.getElementById('exportInvoicesBtn').addEventListener('click', function() {
                exportInvoices();
            });
            
            // Create invoice form - Add item button
            document.getElementById('addNewItem').addEventListener('click', function() {
                addNewInvoiceItem();
            });
            
            // Create invoice form - Remove item
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('remove-item') || e.target.closest('.remove-item')) {
                    const row = e.target.closest('tr');
                    if (row && document.querySelectorAll('#newInvoiceItems tbody tr').length > 1) {
                        row.remove();
                        calculateInvoiceTotal();
                    }
                }
            });
            
            // Create invoice form - Calculate item amount
            document.addEventListener('input', function(e) {
                if (e.target.classList.contains('item-rate') || e.target.classList.contains('item-qty')) {
                    const row = e.target.closest('tr');
                    if (row) {
                        const rate = parseFloat(row.querySelector('.item-rate').value) || 0;
                        const qty = parseInt(row.querySelector('.item-qty').value) || 1;
                        const amount = rate * qty;
                        row.querySelector('.item-amount').value = amount.toFixed(2);
                        calculateInvoiceTotal();
                    }
                }
            });
            
            // Create invoice form - Save as draft
            document.getElementById('saveDraftBtn').addEventListener('click', function() {
                saveInvoiceAsDraft();
            });
            
            // Create invoice form - Save and send
            document.getElementById('saveSendInvoiceBtn').addEventListener('click', function() {
                saveAndSendInvoice();
            });
            
            // Invoice details - Print button
            document.getElementById('printInvoiceBtn').addEventListener('click', function() {
                printInvoice();
            });
            
            // Invoice details - Download PDF button
            document.getElementById('downloadPdfBtn').addEventListener('click', function() {
                downloadInvoicePdf();
            });
            
            // Invoice details - Send email button
            document.getElementById('sendEmailBtn').addEventListener('click', function() {
                showSendInvoiceModal();
            });
            
            // Invoice details - Update button
            document.getElementById('updateInvoiceBtn').addEventListener('click', function() {
                updateInvoice();
            });
            
            // Delete invoice modal - Confirm checkbox
            document.getElementById('confirmInvoiceDelete')?.addEventListener('change', function() {
                document.getElementById('confirmDeleteInvoiceBtn').disabled = !this.checked;
            });
            
            // Delete invoice modal - Confirm button
            document.getElementById('confirmDeleteInvoiceBtn')?.addEventListener('click', function() {
                deleteInvoice();
            });
            
            // Send invoice modal - Send button
            document.getElementById('sendInvoiceNowBtn')?.addEventListener('click', function() {
                sendInvoiceEmail();
            });
            
            // Load first invoice details by default
            loadInvoiceDetails('INV-2024-001');
        });
        
        function loadInvoiceDetails(invoiceId) {
            // Sample invoice data
            const invoiceData = {
                'INV-2024-001': {
                    customer: 'Howard Martenstyn',
                    customerId: 'CUS100001',
                    address: '123 Main Street, Toronto, Ontario M5H 2N2, Canada',
                    phone: '+1 416 123 4567',
                    email: 'hmartenstyn@gmail.com',
                    issueDate: '2024-12-15',
                    dueDate: '2024-12-18',
                    status: 'pending',
                    paymentMethod: 'Bank Transfer',
                    subtotal: 450.00,
                    tax: 45.00,
                    discount: 0.00,
                    total: 495.00,
                    notes: 'Thank you for choosing Ovia Hotel & Resort. Please make payment by the due date. For any queries, contact our billing department.',
                    terms: '1. Payment due within 7 days of invoice date.\n2. Late payments subject to 2% monthly interest.\n3. All amounts in US Dollars.',
                    items: [
                        { description: 'Deluxe Room - 3 nights', rate: 150.00, qty: 3, amount: 450.00 }
                    ]
                },
                'INV-2024-002': {
                    customer: 'Sugeethan Thanigasalam',
                    customerId: 'CUS100002',
                    address: '45 Galle Road, Colombo 00300, Sri Lanka',
                    phone: '+94 77 123 4567',
                    email: 'sugee@ascensorpartners.com',
                    issueDate: '2024-12-10',
                    dueDate: '2024-12-15',
                    status: 'overdue',
                    paymentMethod: 'Credit Card',
                    subtotal: 1250.00,
                    tax: 125.00,
                    discount: 0.00,
                    total: 1375.00,
                    notes: 'Suite booking for 5 nights with breakfast included.',
                    terms: '1. Payment due within 7 days of invoice date.\n2. Late payments subject to 2% monthly interest.\n3. All amounts in US Dollars.',
                    items: [
                        { description: 'Executive Suite - 5 nights', rate: 250.00, qty: 5, amount: 1250.00 }
                    ]
                },
                'INV-2024-003': {
                    customer: 'Anne et Jean Green',
                    customerId: 'CUS100003',
                    address: '78 Rue de Paris, Paris 75008, France',
                    phone: '+33 1 23 45 67 89',
                    email: 'info@barreefresort.com',
                    issueDate: '2024-12-05',
                    dueDate: '2024-12-12',
                    status: 'paid',
                    paymentMethod: 'Online Payment',
                    subtotal: 280.00,
                    tax: 28.00,
                    discount: 0.00,
                    total: 308.00,
                    notes: 'Food and beverage services during stay.',
                    terms: '1. Payment due within 7 days of invoice date.\n2. Late payments subject to 2% monthly interest.\n3. All amounts in US Dollars.',
                    items: [
                        { description: 'Dinner Service - 2 persons', rate: 80.00, qty: 1, amount: 80.00 },
                        { description: 'Mini Bar Charges', rate: 50.00, qty: 2, amount: 100.00 },
                        { description: 'Room Service', rate: 100.00, qty: 1, amount: 100.00 }
                    ]
                }
            };
            
            const data = invoiceData[invoiceId] || invoiceData['INV-2024-001'];
            
            // Update invoice preview
            document.getElementById('previewInvoiceNo').textContent = invoiceId;
            
            // Format dates
            const issueDate = new Date(data.issueDate);
            const dueDate = new Date(data.dueDate);
            const formattedIssueDate = issueDate.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            const formattedDueDate = dueDate.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            document.getElementById('previewIssueDate').textContent = formattedIssueDate;
            document.getElementById('previewDueDate').textContent = formattedDueDate;
            document.getElementById('previewDueDate2').textContent = formattedDueDate;
            
            // Update customer information
            document.getElementById('previewCustomerName').textContent = data.customer;
            document.getElementById('previewCustomerAddress').textContent = data.address;
            document.getElementById('previewCustomerPhone').textContent = data.phone;
            document.getElementById('previewCustomerEmail').textContent = data.email;
            
            // Update items table
            const itemsTable = document.getElementById('invoiceItemsPreview');
            itemsTable.innerHTML = '';
            
            data.items.forEach((item, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${item.description}</td>
                    <td class="text-end">$${item.rate.toFixed(2)}</td>
                    <td class="text-center">${item.qty}</td>
                    <td class="text-end">$${item.amount.toFixed(2)}</td>
                `;
                itemsTable.appendChild(row);
            });
            
            // Update totals
            document.getElementById('previewSubtotal').textContent = `$${data.subtotal.toFixed(2)}`;
            document.getElementById('previewTax').textContent = `$${data.tax.toFixed(2)}`;
            document.getElementById('previewDiscount').textContent = `$${data.discount.toFixed(2)}`;
            document.getElementById('previewTotal').textContent = `$${data.total.toFixed(2)}`;
            
            // Update notes and terms
            document.getElementById('previewNotes').value = data.notes;
            document.getElementById('previewTerms').value = data.terms;
            
            // Update status
            const statusElement = document.getElementById('previewStatus');
            statusElement.className = `invoice-status status-${data.status}`;
            statusElement.innerHTML = `<i class="fas fa-${getStatusIcon(data.status)} me-1"></i> ${data.status.charAt(0).toUpperCase() + data.status.slice(1)}`;
            
            document.getElementById('previewPaymentMethod').textContent = data.paymentMethod;
            
            // Scroll to details section
            document.getElementById('invoiceDetailsSection').scrollIntoView({ behavior: 'smooth' });
            
            showAlert(`Loaded invoice ${invoiceId} details`, 'success');
        }
        
        function editInvoice(invoiceId) {
            // In a real application, this would open the invoice in edit mode
            loadInvoiceDetails(invoiceId);
            showAlert(`Editing invoice ${invoiceId}`, 'info');
        }
        
        function markInvoiceAsPaid(invoiceId) {
            const row = document.querySelector(`.invoice-checkbox[data-id="${invoiceId}"]`)?.closest('tr');
            if (row) {
                // Update status in table
                const statusCell = row.querySelector('.invoice-status');
                statusCell.className = 'invoice-status status-paid';
                statusCell.innerHTML = '<i class="fas fa-check-circle me-1"></i> Paid';
                
                // Update due date text
                const dueDateCell = row.querySelector('td:nth-child(5) small');
                if (dueDateCell) {
                    dueDateCell.textContent = 'Paid';
                    dueDateCell.className = 'text-success';
                }
                
                // Update preview if this invoice is currently being viewed
                const currentInvoice = document.getElementById('previewInvoiceNo').textContent;
                if (currentInvoice === invoiceId) {
                    const statusElement = document.getElementById('previewStatus');
                    statusElement.className = 'invoice-status status-paid';
                    statusElement.innerHTML = '<i class="fas fa-check-circle me-1"></i> Paid';
                }
                
                showAlert(`Invoice ${invoiceId} marked as paid`, 'success');
            }
        }
        
        function showDeleteInvoiceModal(invoiceId) {
            const deleteModal = new bootstrap.Modal(document.getElementById('deleteInvoiceModal'));
            document.getElementById('confirmDeleteInvoiceBtn').dataset.invoiceId = invoiceId;
            deleteModal.show();
        }
        
        function deleteInvoice() {
            const invoiceId = document.getElementById('confirmDeleteInvoiceBtn').dataset.invoiceId;
            
            // Remove the row from the table
            const row = document.querySelector(`.invoice-checkbox[data-id="${invoiceId}"]`)?.closest('tr');
            if (row) {
                row.remove();
            }
            
            // Show success message
            showAlert(`Invoice ${invoiceId} has been deleted`, 'danger');
            
            // Close the modal
            const deleteModal = bootstrap.Modal.getInstance(document.getElementById('deleteInvoiceModal'));
            deleteModal.hide();
            
            // Reset the checkbox
            document.getElementById('confirmInvoiceDelete').checked = false;
            document.getElementById('confirmDeleteInvoiceBtn').disabled = true;
            
            // If the deleted invoice was being viewed, clear the preview
            const currentInvoice = document.getElementById('previewInvoiceNo').textContent;
            if (currentInvoice === invoiceId) {
                document.getElementById('invoicePreview').innerHTML = '<div class="text-center py-5"><h5>Select an invoice to view details</h5></div>';
            }
        }
        
        function filterInvoices(filter) {
            const rows = document.querySelectorAll('#invoiceTableBody tr');
            
            rows.forEach(row => {
                let show = true;
                
                if (filter !== 'all') {
                    const status = row.querySelector('.invoice-status').textContent.toLowerCase().trim();
                    
                    if (filter === 'pending' && !status.includes('pending')) show = false;
                    if (filter === 'overdue' && !status.includes('overdue')) show = false;
                    if (filter === 'paid' && !status.includes('paid')) show = false;
                }
                
                row.style.display = show ? '' : 'none';
            });
        }
        
        function applyInvoiceFilters() {
            const fromDate = document.getElementById('fromDate').value;
            const toDate = document.getElementById('toDate').value;
            const status = document.getElementById('invoiceStatus').value;
            const customer = document.getElementById('customerFilter').value;
            
            const rows = document.querySelectorAll('#invoiceTableBody tr');
            
            rows.forEach(row => {
                const invoiceDate = row.querySelector('td:nth-child(4)').textContent;
                const invoiceStatus = row.querySelector('.invoice-status').textContent.toLowerCase().trim();
                const customerId = row.querySelector('.customer-avatar')?.textContent || '';
                
                let show = true;
                
                // Date filter
                if (fromDate && invoiceDate < fromDate) show = false;
                if (toDate && invoiceDate > toDate) show = false;
                
                // Status filter
                if (status && !invoiceStatus.includes(status)) show = false;
                
                // Customer filter (simplified - in real app would check customer ID)
                if (customer) {
                    const customerName = row.querySelector('td:nth-child(3) h6').textContent;
                    if (!customerName.toLowerCase().includes(customer.toLowerCase())) {
                        show = false;
                    }
                }
                
                row.style.display = show ? '' : 'none';
            });
            
            showAlert('Filters applied successfully', 'success');
        }
        
        function resetInvoiceFilters() {
            const today = new Date();
            const firstDay = new Date(today.getFullYear(), today.getMonth(), 1);
            const lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0);
            
            document.getElementById('fromDate').value = firstDay.toISOString().split('T')[0];
            document.getElementById('toDate').value = lastDay.toISOString().split('T')[0];
            document.getElementById('invoiceStatus').value = '';
            document.getElementById('customerFilter').value = '';
            document.getElementById('searchInvoice').value = '';
            
            // Show all rows
            const rows = document.querySelectorAll('#invoiceTableBody tr');
            rows.forEach(row => {
                row.style.display = '';
            });
            
            // Reset filter buttons
            document.querySelectorAll('[data-filter]').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector('[data-filter="all"]').classList.add('active');
            
            showAlert('Filters have been reset', 'info');
        }
        
        function searchInvoices() {
            const searchTerm = document.getElementById('searchInvoice').value.toLowerCase();
            
            if (!searchTerm) {
                showAlert('Please enter a search term', 'warning');
                return;
            }
            
            const rows = document.querySelectorAll('#invoiceTableBody tr');
            let foundCount = 0;
            
            rows.forEach(row => {
                const invoiceNo = row.querySelector('td:nth-child(2) .badge').textContent.toLowerCase();
                const customerName = row.querySelector('td:nth-child(3) h6').textContent.toLowerCase();
                const amount = row.querySelector('.invoice-amount').textContent.toLowerCase();
                
                const matches = invoiceNo.includes(searchTerm) || 
                               customerName.includes(searchTerm) || 
                               amount.includes(searchTerm);
                
                row.style.display = matches ? '' : 'none';
                if (matches) foundCount++;
            });
            
            if (foundCount === 0) {
                showAlert(`No invoices found for "${searchTerm}"`, 'warning');
            } else {
                showAlert(`Found ${foundCount} invoice(s) for "${searchTerm}"`, 'success');
            }
        }
        
        function exportInvoices() {
            // In a real application, this would generate and download an export file
            showAlert('Invoice data exported successfully as CSV', 'success');
        }
        
        function addNewInvoiceItem() {
            const tableBody = document.querySelector('#newInvoiceItems tbody');
            const newRow = document.createElement('tr');
            
            newRow.innerHTML = `
                <td>
                    <select class="form-select form-select-sm item-select">
                        <option value="">Select Item</option>
                        <option value="room">Room Charge</option>
                        <option value="food">Food & Beverage</option>
                        <option value="service">Service Charge</option>
                        <option value="taxi">Taxi Service</option>
                        <option value="laundry">Laundry Service</option>
                        <option value="spa">Spa Service</option>
                    </select>
                    <input type="text" class="form-control form-control-sm mt-1 item-description" placeholder="Description">
                </td>
                <td>
                    <input type="number" class="form-control form-control-sm item-rate" value="0.00" step="0.01">
                </td>
                <td>
                    <input type="number" class="form-control form-control-sm item-qty" value="1" min="1">
                </td>
                <td>
                    <input type="number" class="form-control form-control-sm item-amount" value="0.00" step="0.01" readonly>
                </td>
                <td>
                    <button type="button" class="btn btn-sm btn-outline-danger remove-item">
                        <i class="fas fa-times"></i>
                    </button>
                </td>
            `;
            
            tableBody.appendChild(newRow);
        }
        
        function calculateInvoiceTotal() {
            // This would calculate the total for the new invoice form
            // In a real application, you would sum all item amounts
        }
        
        function saveInvoiceAsDraft() {
            const customer = document.getElementById('newInvoiceCustomer').value;
            
            if (!customer) {
                showAlert('Please select a customer', 'warning');
                return;
            }
            
            // In a real application, this would save to database
            showAlert('Invoice saved as draft successfully', 'success');
            
            // Close modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('createInvoiceModal'));
            modal.hide();
            
            // Reset form
            resetInvoiceForm();
        }
        
        function saveAndSendInvoice() {
            const customer = document.getElementById('newInvoiceCustomer').value;
            
            if (!customer) {
                showAlert('Please select a customer', 'warning');
                return;
            }
            
            // In a real application, this would save and send the invoice
            showAlert('Invoice created and sent successfully', 'success');
            
            // Close modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('createInvoiceModal'));
            modal.hide();
            
            // Reset form
            resetInvoiceForm();
        }
        
        function resetInvoiceForm() {
            document.getElementById('newInvoiceCustomer').value = '';
            document.getElementById('newInvoiceDate').value = new Date().toISOString().split('T')[0];
            document.getElementById('newDueDate').value = new Date(new Date().getTime() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
            document.getElementById('newInvoiceNotes').value = 'Thank you for choosing Ovia Hotel & Resort.';
            document.getElementById('newInvoiceTerms').value = '1. Payment due within 7 days.\n2. Late fee applies after due date.';
            
            // Reset items table to single row
            const tableBody = document.querySelector('#newInvoiceItems tbody');
            tableBody.innerHTML = `
                <tr>
                    <td>
                        <select class="form-select form-select-sm item-select">
                            <option value="">Select Item</option>
                            <option value="room" selected>Room Charge</option>
                            <option value="food">Food & Beverage</option>
                            <option value="service">Service Charge</option>
                            <option value="taxi">Taxi Service</option>
                            <option value="laundry">Laundry Service</option>
                            <option value="spa">Spa Service</option>
                        </select>
                        <input type="text" class="form-control form-control-sm mt-1 item-description" placeholder="Description" value="Deluxe Room - 3 nights">
                    </td>
                    <td>
                        <input type="number" class="form-control form-control-sm item-rate" value="150.00" step="0.01">
                    </td>
                    <td>
                        <input type="number" class="form-control form-control-sm item-qty" value="3" min="1">
                    </td>
                    <td>
                        <input type="number" class="form-control form-control-sm item-amount" value="450.00" step="0.01" readonly>
                    </td>
                    <td>
                        <button type="button" class="btn btn-sm btn-outline-danger remove-item">
                            <i class="fas fa-times"></i>
                        </button>
                    </td>
                </tr>
            `;
        }
        
        function printInvoice() {
            // In a real application, this would open print dialog for invoice
            window.print();
            showAlert('Invoice sent to printer', 'success');
        }
        
        function downloadInvoicePdf() {
            // In a real application, this would generate and download PDF
            showAlert('Invoice PDF downloaded successfully', 'success');
        }
        
        function showSendInvoiceModal() {
            const sendModal = new bootstrap.Modal(document.getElementById('sendInvoiceModal'));
            sendModal.show();
        }
        
        function sendInvoiceEmail() {
            const email = document.getElementById('sendToEmail').value;
            const subject = document.getElementById('emailSubject').value;
            
            if (!email) {
                showAlert('Please enter an email address', 'warning');
                return;
            }
            
            // In a real application, this would send the email
            showAlert(`Invoice sent to ${email} successfully`, 'success');
            
            // Close modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('sendInvoiceModal'));
            modal.hide();
        }
        
        function updateInvoice() {
            const invoiceId = document.getElementById('previewInvoiceNo').textContent;
            
            // In a real application, this would update the invoice in database
            showAlert(`Invoice ${invoiceId} updated successfully`, 'success');
        }
        
        function getStatusIcon(status) {
            const icons = {
                'paid': 'check-circle',
                'pending': 'clock',
                'overdue': 'exclamation-triangle',
                'draft': 'file'
            };
            return icons[status] || 'question-circle';
        }
        
        function showAlert(message, type) {
            // Create alert element
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
            alertDiv.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            // Add to body
            document.body.appendChild(alertDiv);
            
            // Remove after 3 seconds
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 3000);
        }
    </script>


</body>
</html>